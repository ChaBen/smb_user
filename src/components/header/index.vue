<template>
  <div>
    <v-toolbar :height="56" :class="{ 'main': isMain }" :fixed="!isMain" class="smb-header">
      <v-btn flat icon @click="toogleSidebar">
        <img src="/static/icons/side.svg" alt="">
      </v-btn>
      <v-spacer />
      <v-toolbar-items class="header-toolbar">
        <v-btn v-for="item in headMenu" :key="item.title" :to="item.path" flat @click="linkEvent(item.event)"><img :src="`/static/icons/${item.icon}.svg`" alt="">{{ item.title }}</v-btn>
      </v-toolbar-items>
    </v-toolbar>

    <header v-if="isMain" class="main-header">
      <div class="main-title">안녕하세요,<br>울프강 스테이크 하우스<br>입니다.</div>
      <v-layout row justify-space-around class="main-menu">
        <router-link v-for="item in mainMenu" :key="item.title" :to="item.path" class="menu-item">
          <div class="item-img"><img :src="`/static/icons/main-menu-${item.icon}.svg`" :alt="item.title"></div>
          <div class="item-title">{{ item.title }}</div>
        </router-link>
      </v-layout>
    </header>

    <share-popup :dialog.sync="dialog" />
    <notice-popup :dialog.sync="dialog1" />
  </div>
</template>

<script>
import SharePopup from '@/components/popups/common/share'
import NoticePopup from '@/components/popups/common/notice2'

export default {
  name: 'Header',
  components: {
    SharePopup, NoticePopup
  },
  props: {
    isMain: {
      type: Boolean,
      default: false
    }
  },
  data() {
    return {
      dialog: false,
      dialog1: false,
      headMenu: [
        { title: '대기', icon: 'waiting', path: '/standby' },
        { title: '예약', icon: 'reser', event: 'reser' },
        { title: '공유', icon: 'share', event: 'share' }
      ],
      mainMenu: [
        { title: '이용 이력', icon: 'list', path: '' },
        { title: '메뉴 정보', icon: 'info', path: '' },
        { title: '매장 정보', icon: 'shop', path: '' }
      ]
    }
  },
  methods: {
    toogleSidebar() {
      this.$store.commit('TOGGLE_SIDEBAR')
    },
    linkEvent(event) {
      switch (event) {
        case 'share':
          this.dialog = true
          break
        case 'reser':
          this.dialog1 = true
          break
        default:
          break
      }
    }
  }
}
</script>

